# å•é¡Œæ’é™¤æŒ‡å—

## ğŸ”§ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

---

## âŒ NumPy å°å…¥éŒ¯èª¤

### å•é¡Œæè¿°
```
ImportError: Unable to import required dependencies:
numpy: Error importing numpy: you should not try to import numpy from
        its source directory
```

### åŸå› 
- NumPy 2.x ç‰ˆæœ¬èˆ‡æŸäº›å¥—ä»¶æœ‰ç›¸å®¹æ€§å•é¡Œ
- è™›æ“¬ç’°å¢ƒä¸­çš„ NumPy å®‰è£ä¸å®Œæ•´
- Python å¿«å–æª”æ¡ˆæå£

### è§£æ±ºæ–¹æ¡ˆ

#### æ–¹æ³• 1ï¼šä½¿ç”¨æ›´æ–°çš„å•Ÿå‹•è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
å•Ÿå‹•è…³æœ¬å·²ç¶“åŒ…å«è‡ªå‹•ä¿®å¾©åŠŸèƒ½ï¼š

```bash
./code/streamlit_app/run_app.sh
```

è…³æœ¬æœƒè‡ªå‹•ï¼š
- æª¢æ¸¬ numpy å°å…¥å•é¡Œ
- é‡æ–°å®‰è£ç©©å®šç‰ˆæœ¬ï¼ˆ1.26.4ï¼‰
- æ¸…ç†å¿«å–æª”æ¡ˆ

#### æ–¹æ³• 2ï¼šæ‰‹å‹•ä¿®å¾©

```bash
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /path/to/LDA_hospital

# 2. å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
source venv/bin/activate

# 3. é‡æ–°å®‰è£ numpyï¼ˆç©©å®šç‰ˆæœ¬ï¼‰
pip uninstall numpy -y
pip install numpy==1.26.4

# 4. æ¸…ç†å¿«å–
find . -type d -name "__pycache__" ! -path "./venv/*" -exec rm -rf {} +

# 5. é©—è­‰
python -c "import numpy, pandas; print('âœ… ä¿®å¾©æˆåŠŸ')"

# 6. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
python -m streamlit run code/streamlit_app/taiwan_lda_explorer.py
```

#### æ–¹æ³• 3ï¼šé‡å»ºè™›æ“¬ç’°å¢ƒ

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ç„¡æ•ˆï¼š

```bash
# 1. åˆªé™¤èˆŠç’°å¢ƒ
rm -rf venv

# 2. å»ºç«‹æ–°ç’°å¢ƒ
python3 -m venv venv

# 3. å•Ÿå‹•ç’°å¢ƒ
source venv/bin/activate

# 4. å‡ç´š pip
pip install --upgrade pip setuptools wheel

# 5. å®‰è£å¥—ä»¶
pip install -r requirements.txt

# 6. é©—è­‰
python -c "import streamlit, pandas, numpy; print('âœ… å®‰è£å®Œæˆ')"
```

---

## ğŸŒ ç€è¦½å™¨ç„¡æ³•é–‹å•Ÿ

### å•é¡Œæè¿°
åŸ·è¡Œå¾Œç€è¦½å™¨æ²’æœ‰è‡ªå‹•é–‹å•Ÿ

### è§£æ±ºæ–¹æ¡ˆ
æ‰‹å‹•é–‹å•Ÿç€è¦½å™¨ä¸¦å‰å¾€ï¼š
- http://localhost:8501
- æˆ–çµ‚ç«¯æ©Ÿé¡¯ç¤ºçš„å…¶ä»–ç«¯å£ï¼ˆå¦‚ 8502ã€8503ï¼‰

---

## ğŸ“ æ‰¾ä¸åˆ° LDA æ¨¡å‹

### å•é¡Œæè¿°
```
âŒ æ‰¾ä¸åˆ° K=7 çš„ LDA æ¨¡å‹ï¼
```

### åŸå› 
- æ¨¡å‹æª”æ¡ˆä¸å­˜åœ¨
- è·¯å¾‘ä¸æ­£ç¢º

### è§£æ±ºæ–¹æ¡ˆ

æª¢æŸ¥æ¨¡å‹æª”æ¡ˆæ˜¯å¦å­˜åœ¨ï¼š

```bash
ls -la results/taiwan_lda_k7/*.pkl
```

æ‡‰è©²è¦çœ‹åˆ°é¡ä¼¼çš„æª”æ¡ˆï¼š
- `lda_k7_lda_model.pkl`
- æˆ–å…¶ä»– `*_model.pkl` æª”æ¡ˆ

å¦‚æœæ²’æœ‰ï¼š
1. ç¢ºèªä½ åœ¨æ­£ç¢ºçš„å°ˆæ¡ˆç›®éŒ„
2. ç¢ºèª LDA æ¨¡å‹å·²ç¶“è¨“ç·´å®Œæˆ
3. æª¢æŸ¥ `results/` ç›®éŒ„çµæ§‹

---

## ğŸ Python ç‰ˆæœ¬å•é¡Œ

### å•é¡Œæè¿°
```
python: command not found
```
æˆ–ç‰ˆæœ¬å¤ªèˆŠ

### è§£æ±ºæ–¹æ¡ˆ

ç¢ºä¿ä½¿ç”¨ Python 3.8+ï¼š

```bash
# æª¢æŸ¥ç‰ˆæœ¬
python3 --version

# æ‡‰è©²é¡¯ç¤º 3.8.x æˆ–æ›´é«˜
```

å¦‚æœç‰ˆæœ¬å¤ªèˆŠï¼Œè«‹å‡ç´š Pythonã€‚

---

## ğŸ“¦ å¥—ä»¶ç›¸ä¾æ€§éŒ¯èª¤

### å•é¡Œæè¿°
```
ModuleNotFoundError: No module named 'xxx'
```

### è§£æ±ºæ–¹æ¡ˆ

```bash
# å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
source venv/bin/activate

# é‡æ–°å®‰è£æ‰€æœ‰å¥—ä»¶
pip install -r requirements.txt

# æˆ–å®‰è£ç¼ºå°‘çš„ç‰¹å®šå¥—ä»¶
pip install å¥—ä»¶åç¨±
```

---

## ğŸ”’ æ¬Šé™éŒ¯èª¤

### å•é¡Œæè¿°
```
Permission denied: ./run_app.sh
```

### è§£æ±ºæ–¹æ¡ˆ

çµ¦äºˆåŸ·è¡Œæ¬Šé™ï¼š

```bash
chmod +x code/streamlit_app/run_app.sh
```

---

## ğŸ’¾ è¨˜æ†¶é«”ä¸è¶³

### å•é¡Œæè¿°
æ‡‰ç”¨ç¨‹å¼é‹è¡Œç·©æ…¢æˆ–å´©æ½°

### è§£æ±ºæ–¹æ¡ˆ

1. **é—œé–‰å…¶ä»–æ‡‰ç”¨ç¨‹å¼**
2. **æ¸›å°‘è¼‰å…¥çš„è³‡æ–™é‡**
3. **èª¿æ•´å¿«å–è¨­å®š**

åœ¨ç¨‹å¼ä¸­åŠ å…¥ï¼š
```python
@st.cache_data(max_entries=10)
```

---

## ğŸ–¥ï¸ ç«¯å£å·²è¢«ä½”ç”¨

### å•é¡Œæè¿°
```
Address already in use
```

### è§£æ±ºæ–¹æ¡ˆ

#### æ–¹æ³• 1ï¼šä½¿ç”¨å…¶ä»–ç«¯å£
```bash
python -m streamlit run code/streamlit_app/taiwan_lda_explorer.py --server.port 8502
```

#### æ–¹æ³• 2ï¼šé—œé–‰ä½”ç”¨ç«¯å£çš„ç¨‹å¼
```bash
# æ‰¾å‡ºä½”ç”¨ 8501 ç«¯å£çš„ç¨‹å¼
lsof -i :8501

# çµ‚æ­¢è©²ç¨‹å¼ï¼ˆæ›¿æ› PIDï¼‰
kill -9 PID
```

---

## ğŸ¨ ä¸­æ–‡å­—é«”é¡¯ç¤ºå•é¡Œ

### å•é¡Œæè¿°
åœ–è¡¨ä¸­çš„ä¸­æ–‡é¡¯ç¤ºç‚ºæ–¹å¡Š

### è§£æ±ºæ–¹æ¡ˆ

æ‡‰ç”¨ç¨‹å¼å·²è¨­å®šå¤šå€‹ä¸­æ–‡å­—é«”ï¼š
- Arial Unicode MS
- Microsoft YaHei
- SimHei

å¦‚æœä»æœ‰å•é¡Œï¼Œå®‰è£å°æ‡‰å­—é«”ï¼š

#### macOS
```bash
# å­—é«”å·²åŒ…å«åœ¨ç³»çµ±ä¸­
# å¦‚éœ€é¡å¤–å­—é«”ï¼Œå¯å¾ App Store å®‰è£
```

#### Linux
```bash
sudo apt-get install fonts-noto-cjk
```

---

## ğŸ”„ æ‡‰ç”¨ç¨‹å¼ç„¡æ³•é‡æ–°è¼‰å…¥

### å•é¡Œæè¿°
ä¿®æ”¹ç¨‹å¼ç¢¼å¾Œæ‡‰ç”¨ç¨‹å¼æ²’æœ‰è‡ªå‹•æ›´æ–°

### è§£æ±ºæ–¹æ¡ˆ

1. **æª¢æŸ¥çµ‚ç«¯æ©Ÿæ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯**
2. **æ‰‹å‹•åˆ·æ–°ç€è¦½å™¨** (Cmd+R æˆ– Ctrl+R)
3. **é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼** (Ctrl+C ç„¶å¾Œé‡æ–°åŸ·è¡Œ)

---

## ğŸ“Š è³‡æ–™è¼‰å…¥å¤±æ•—

### å•é¡Œæè¿°
```
æ‰¾ä¸åˆ°è©•è«–è³‡æ–™ï¼
```

### è§£æ±ºæ–¹æ¡ˆ

ç¢ºèªè³‡æ–™æª”æ¡ˆå­˜åœ¨ï¼š

```bash
# æª¢æŸ¥è™•ç†å¾Œçš„è³‡æ–™
ls -la data/processed/taiwan/reviews_for_lda.txt

# æª¢æŸ¥åŸå§‹è³‡æ–™
ls -la data/raw/taiwan/*.xlsx
```

å¦‚æœæª”æ¡ˆä¸å­˜åœ¨ï¼Œéœ€è¦å…ˆåŸ·è¡Œè³‡æ–™å‰è™•ç†ï¼š

```bash
python code/preprocessing/data_preprocessing.py
```

---

## ğŸ› å…¶ä»–éŒ¯èª¤

### ä¸€èˆ¬é™¤éŒ¯æ­¥é©Ÿ

1. **æŸ¥çœ‹å®Œæ•´éŒ¯èª¤è¨Šæ¯**
   - ä¸è¦å¿½ç•¥çµ‚ç«¯æ©Ÿçš„éŒ¯èª¤è¼¸å‡º
   - æˆªåœ–æˆ–è¤‡è£½å®Œæ•´çš„ Traceback

2. **æª¢æŸ¥ç’°å¢ƒ**
   ```bash
   source venv/bin/activate
   python --version
   pip list
   ```

3. **é©—è­‰å¥—ä»¶**
   ```bash
   python -c "import streamlit, pandas, numpy, gensim; print('OK')"
   ```

4. **æ¸…ç†å¿«å–**
   ```bash
   find . -name "__pycache__" -type d -exec rm -rf {} +
   find . -name "*.pyc" -delete
   ```

5. **é‡å•Ÿçµ‚ç«¯æ©Ÿ**
   - æœ‰æ™‚ç’°å¢ƒè®Šæ•¸éœ€è¦é‡æ–°è¼‰å…¥

---

## ğŸ“ å°‹æ±‚å”åŠ©

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½ç„¡æ³•è§£æ±ºå•é¡Œï¼š

1. **æ”¶é›†è³‡è¨Š**
   - Python ç‰ˆæœ¬ï¼š`python3 --version`
   - ä½œæ¥­ç³»çµ±ï¼š`uname -a` (Linux/Mac) æˆ– `ver` (Windows)
   - å®Œæ•´éŒ¯èª¤è¨Šæ¯
   - ä½ åŸ·è¡Œçš„æŒ‡ä»¤

2. **æª¢æŸ¥æ–‡ä»¶**
   - `README.md` - åŠŸèƒ½èªªæ˜
   - `QUICKSTART.md` - å¿«é€Ÿé–‹å§‹
   - `VENV_GUIDE.md` - è™›æ“¬ç’°å¢ƒæŒ‡å—

3. **è¯ç¹«æ”¯æ´**
   - æä¾›æ”¶é›†çš„è³‡è¨Š
   - èªªæ˜é‡ç¾æ­¥é©Ÿ

---

## âœ… é©—è­‰æ¸…å–®

åŸ·è¡Œå‰ç¢ºèªï¼š

- [ ] Python 3.8+ å·²å®‰è£
- [ ] è™›æ“¬ç’°å¢ƒå·²å»ºç«‹ä¸¦å•Ÿå‹•
- [ ] æ‰€æœ‰å¥—ä»¶å·²å®‰è£ï¼ˆ`pip list` æª¢æŸ¥ï¼‰
- [ ] LDA æ¨¡å‹æª”æ¡ˆå­˜åœ¨
- [ ] è³‡æ–™æª”æ¡ˆå°±ä½
- [ ] å•Ÿå‹•è…³æœ¬æœ‰åŸ·è¡Œæ¬Šé™
- [ ] ç«¯å£ 8501 æœªè¢«ä½”ç”¨

---

## ğŸ¯ å¿«é€Ÿä¿®å¾©æŒ‡ä»¤

é‡åˆ°å•é¡Œæ™‚ï¼Œå…ˆè©¦è©¦é€™å€‹ï¼š

```bash
# ä¸€éµä¿®å¾©è…³æœ¬
cd /path/to/LDA_hospital
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
find . -name "__pycache__" -type d -exec rm -rf {} +
python -c "import streamlit, pandas, numpy; print('âœ… ç’°å¢ƒæ­£å¸¸')"
./code/streamlit_app/run_app.sh
```

---

**æœ€å¾Œæ›´æ–°**: 2025-11-11
**ç‰ˆæœ¬**: 1.0.1
