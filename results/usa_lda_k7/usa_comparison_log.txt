/Users/simon/opt/anaconda3/lib/python3.9/site-packages/pandas/core/computation/expressions.py:21: UserWarning: Pandas requires version '2.8.4' or newer of 'numexpr' (version '2.8.1' currently installed).
  from pandas.core.computation.check import NUMEXPR_INSTALLED
/Users/simon/opt/anaconda3/lib/python3.9/site-packages/pandas/core/arrays/masked.py:61: UserWarning: Pandas requires version '1.3.6' or newer of 'bottleneck' (version '1.3.4' currently installed).
  from pandas.core import (
================================================================================
USA Hospital Reviews - LDA Model Comparison (K=5, 6, 7) - Simple Version
ç¾åœ‹é†«é™¢è©•è«– - LDAæ¨¡å‹æ¯”è¼ƒï¼ˆK=5, 6, 7ï¼‰- ç°¡åŒ–ç‰ˆ
================================================================================

Loading data | è¼‰å…¥è³‡æ–™...
âœ“ Loaded 3,240 English reviews
âœ“ å·²è¼‰å…¥ 3,240 ç­†è‹±æ–‡è©•è«–

Preprocessing text | æ–‡æœ¬å‰è™•ç†ä¸­...
âœ“ Valid reviews: 3,240
âœ“ æœ‰æ•ˆè©•è«–: 3,240

Building dictionary and corpus | å»ºç«‹å­—å…¸å’Œèªæ–™åº«...
  Original vocabulary: 9241 | åŸå§‹è©å½™æ•¸: 9241
  Filtered vocabulary: 3846 | éæ¿¾å¾Œè©å½™æ•¸: 3846
âœ“ Corpus created: 3240 documents | èªæ–™åº«å»ºç«‹å®Œæˆ: 3240 ç­†æ–‡æª”

================================================================================
Training K=5 Model | è¨“ç·´ K=5 æ¨¡å‹
================================================================================

âœ“ Model training complete!
Calculating coherence score...

  Coherence Score: 0.3923
  Perplexity: -7.2099

  Top Keywords per Topic:
    Topic 1: care, patient, time, dad, could
    Topic 2: patient, room, time, hour, waiting
    Topic 3: care, clinic, help, doctor, even
    Topic 4: nurse, hour, time, care, room
    Topic 5: care, staff, nurse, great, thank

  Topic Distribution:
    Topic 1: 227 reviews (7.0%), Avg Rating: 2.60
    Topic 2: 688 reviews (21.2%), Avg Rating: 1.73
    Topic 3: 573 reviews (17.7%), Avg Rating: 2.34
    Topic 4: 451 reviews (13.9%), Avg Rating: 2.43
    Topic 5: 1301 reviews (40.2%), Avg Rating: 4.81
  âœ“ Model saved: usa_gensim_lda_k5_model.pkl

================================================================================
Training K=6 Model | è¨“ç·´ K=6 æ¨¡å‹
================================================================================

âœ“ Model training complete!
Calculating coherence score...

  Coherence Score: 0.4029
  Perplexity: -7.2254

  Top Keywords per Topic:
    Topic 1: care, dad, life, patient, time
    Topic 2: room, patient, hour, time, waiting
    Topic 3: care, clinic, doctor, even, help
    Topic 4: nurse, care, patient, time, hour
    Topic 5: care, staff, nurse, great, thank
    Topic 6: appointment, bill, service, time, billing

  Topic Distribution:
    Topic 1: 168 reviews (5.2%), Avg Rating: 3.02
    Topic 2: 730 reviews (22.5%), Avg Rating: 1.79
    Topic 3: 505 reviews (15.6%), Avg Rating: 2.35
    Topic 4: 331 reviews (10.2%), Avg Rating: 2.67
    Topic 5: 1259 reviews (38.9%), Avg Rating: 4.81
    Topic 6: 247 reviews (7.6%), Avg Rating: 2.19
  âœ“ Model saved: usa_gensim_lda_k6_model.pkl

================================================================================
Training K=7 Model | è¨“ç·´ K=7 æ¨¡å‹
================================================================================

âœ“ Model training complete!
Calculating coherence score...

  Coherence Score: 0.3887
  Perplexity: -7.2404

  Top Keywords per Topic:
    Topic 1: care, life, patient, dad, time
    Topic 2: patient, room, hour, time, waiting
    Topic 3: clinic, care, cleveland, help, doctor
    Topic 4: nurse, patient, care, time, room
    Topic 5: care, staff, nurse, great, thank
    Topic 6: appointment, daughter, child, time, service
    Topic 7: pain, day, nurse, time, told

  Topic Distribution:
    Topic 1: 159 reviews (4.9%), Avg Rating: 3.18
    Topic 2: 449 reviews (13.9%), Avg Rating: 1.91
    Topic 3: 358 reviews (11.0%), Avg Rating: 2.61
    Topic 4: 294 reviews (9.1%), Avg Rating: 2.59
    Topic 5: 1202 reviews (37.1%), Avg Rating: 4.84
    Topic 6: 133 reviews (4.1%), Avg Rating: 2.72
    Topic 7: 645 reviews (19.9%), Avg Rating: 1.92
  âœ“ Model saved: usa_gensim_lda_k7_model.pkl

================================================================================
COMPARISON RESULTS | æ¯”è¼ƒçµæœ
================================================================================

 Topics Coherence Score Perplexity
      5          0.3923    -7.2099
      6          0.4029    -7.2254
      7          0.3887    -7.2404

âœ“ Comparison results saved: usa_k5k6k7_comparison.csv

================================================================================
RECOMMENDATION | å»ºè­°
================================================================================

ğŸ† Best Model Based on Coherence: K=6
ğŸ† åŸºæ–¼ä¸€è‡´æ€§åˆ†æ•¸çš„æœ€ä½³æ¨¡å‹: K=6
   Coherence Score: 0.4029
   Perplexity: -7.2254

ğŸ“Š All Models Comparison | æ‰€æœ‰æ¨¡å‹æ¯”è¼ƒ:
   K=5: Coherence=0.3923, Perplexity=-7.2099
   K=6: Coherence=0.4029, Perplexity=-7.2254
   K=7: Coherence=0.3887, Perplexity=-7.2404

ğŸ’¡ Recommendation for Cross-Cultural Analysis | è·¨æ–‡åŒ–åˆ†æå»ºè­°:
   For comparison with Taiwan (K=7), we recommend using K=7
   ç‚ºèˆ‡å°ç£ï¼ˆK=7ï¼‰é€²è¡Œè·¨æ–‡åŒ–æ¯”è¼ƒï¼Œå»ºè­°ä½¿ç”¨ K=7
   This ensures methodological consistency and enables direct topic mapping.
   é€™ç¢ºä¿æ–¹æ³•è«–ä¸€è‡´æ€§ä¸¦èƒ½ç›´æ¥é€²è¡Œä¸»é¡Œæ˜ å°„ã€‚

âœ“ Comparison chart saved: usa_lda_k5k6k7_comparison.png
âœ“ æ¯”è¼ƒåœ–è¡¨å·²å„²å­˜: usa_lda_k5k6k7_comparison.png

================================================================================
Analysis Complete! | åˆ†æå®Œæˆï¼
================================================================================

ğŸ“ Generated files:
   - usa_gensim_lda_k5_model.pkl
   - usa_gensim_lda_k6_model.pkl
   - usa_gensim_lda_k7_model.pkl
   - usa_k5k6k7_comparison.csv
   - usa_lda_k5k6k7_comparison.png
