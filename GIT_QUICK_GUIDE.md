# Git å¿«é€Ÿä½¿ç”¨æŒ‡å—

> **æ­å–œï¼æ‚¨çš„å°ˆæ¡ˆå·²ç¶“é–‹å§‹ä½¿ç”¨ Git ç‰ˆæœ¬æ§åˆ¶äº†ï¼** ğŸ‰
>
> **è¨­ç½®æ—¥æœŸ**: 2025-11-08
> **ç¬¬ä¸€æ¬¡ commit**: 5b4dd3d

---

## ç‚ºä»€éº¼ä¸å†éœ€è¦ _v2, _v3, _final ç­‰æª”æ¡ˆåç¨±ï¼Ÿ

**ä»¥å‰çš„å›°æ“¾**:
```
code/
â”œâ”€â”€ lda_analysis.py
â”œâ”€â”€ lda_analysis_v2.py
â”œâ”€â”€ lda_analysis_v3.py
â”œâ”€â”€ lda_analysis_final.py        â† å“ªå€‹æ‰æ˜¯æœ€æ–°çš„ï¼Ÿï¼Ÿ
â””â”€â”€ lda_analysis_final_final.py  â† ğŸ˜±
```

**ä½¿ç”¨ Git ä¹‹å¾Œï¼ˆæ¸…çˆ½ï¼ï¼‰**:
```
code/
â””â”€â”€ lda_analysis.py  â† æ°¸é åªæœ‰ä¸€å€‹æª”æ¡ˆï¼

æ‰€æœ‰ç‰ˆæœ¬æ­·å²éƒ½åœ¨ Git è£¡ï¼š
- v1 ç‰ˆæœ¬ (2025-10-01)
- v2 ç‰ˆæœ¬ (2025-10-15)
- v3 ç‰ˆæœ¬ (2025-11-01)
- ç•¶å‰ç‰ˆæœ¬ (2025-11-08)
```

---

## æ—¥å¸¸ä½¿ç”¨çš„ 5 å€‹åŸºæœ¬å‘½ä»¤

### 1ï¸âƒ£ æŸ¥çœ‹ç‹€æ…‹ï¼ˆæœ€å¸¸ç”¨ï¼ï¼‰

```bash
cd "/Users/simon/Library/CloudStorage/Dropbox/paper/Working paper/Hospitals/LDA_hospital"
git status
```

**å‘Šè¨´æ‚¨**:
- å“ªäº›æª”æ¡ˆè¢«ä¿®æ”¹äº†
- å“ªäº›æª”æ¡ˆé‚„æ²’ä¿å­˜åˆ° Git
- ç›®å‰åœ¨å“ªå€‹åˆ†æ”¯

**ç¯„ä¾‹è¼¸å‡º**:
```
On branch main
Changes not staged for commit:
  modified:   code/lda_analysis/lda_analysis.py  â† é€™å€‹æª”æ¡ˆè¢«ä¿®æ”¹äº†

Untracked files:
  new_script.py  â† é€™æ˜¯æ–°æª”æ¡ˆï¼Œé‚„æ²’åŠ å…¥ Git
```

---

### 2ï¸âƒ£ æŸ¥çœ‹ä¿®æ”¹å…§å®¹

```bash
git diff
```

**å‘Šè¨´æ‚¨**: åˆ°åº•æ”¹äº†ä»€éº¼ï¼ˆç¶ è‰²ï¼æ–°å¢ï¼Œç´…è‰²ï¼åˆªé™¤ï¼‰

**ç¯„ä¾‹è¼¸å‡º**:
```diff
- old_code = "something"     # ç´…è‰²ï¼šåˆªé™¤çš„è¡Œ
+ new_code = "better"        # ç¶ è‰²ï¼šæ–°å¢çš„è¡Œ
```

---

### 3ï¸âƒ£ ä¿å­˜ä¿®æ”¹ï¼ˆCommitï¼‰

**æ­¥é©Ÿ**:

```bash
# Step 1: é¸æ“‡è¦ä¿å­˜çš„æª”æ¡ˆ
git add code/lda_analysis/lda_analysis.py

# æˆ–è€…ä¿å­˜æ‰€æœ‰ä¿®æ”¹
git add .

# Step 2: æäº¤ä¸¦å¯«èªªæ˜
git commit -m "ä¿®æ­£ LDA perplexity è¨ˆç®—éŒ¯èª¤"
```

**å‘½åå»ºè­°**:
- âœ… å¥½çš„ commit message: "ä¿®æ­£ LDA perplexity è¨ˆç®—éŒ¯èª¤"
- âœ… "æ–°å¢è·¨åœ‹æ¯”è¼ƒåŠŸèƒ½"
- âœ… "æ›´æ–° Chapter 2 æ–‡ç»ç¶œè¿°"
- âŒ ä¸å¥½: "update"
- âŒ "fix"
- âŒ "v2"

---

### 4ï¸âƒ£ æŸ¥çœ‹æ­·å²è¨˜éŒ„

```bash
# ç°¡çŸ­ç‰ˆæœ¬
git log --oneline

# è©³ç´°ç‰ˆæœ¬
git log

# çœ‹æœ€è¿‘ 5 æ¬¡
git log --oneline -5
```

**ç¯„ä¾‹è¼¸å‡º**:
```
5b4dd3d Initial commit: å°ˆæ¡ˆåˆå§‹ç‹€æ…‹
a3f8e2c ä¿®æ­£ LDA perplexity è¨ˆç®—éŒ¯èª¤
b9d1c4f æ–°å¢è·¨åœ‹æ¯”è¼ƒåŠŸèƒ½
c5e7a8b æ›´æ–° Chapter 2 æ–‡ç»ç¶œè¿°
```

---

### 5ï¸âƒ£ æ¯”è¼ƒä¸åŒç‰ˆæœ¬

```bash
# çœ‹æŸå€‹æª”æ¡ˆçš„æ­·å²è®ŠåŒ–
git log --oneline code/lda_analysis/lda_analysis.py

# æ¯”è¼ƒå…©å€‹ç‰ˆæœ¬çš„å·®ç•°
git diff 5b4dd3d a3f8e2c
```

---

## å¯¦éš›ä½¿ç”¨ç¯„ä¾‹

### æƒ…å¢ƒ 1: ä¿®æ”¹ç¨‹å¼ç¢¼

```bash
# 1. ä¿®æ”¹æª”æ¡ˆï¼ˆç”¨ç·¨è¼¯å™¨ä¿®æ”¹ lda_analysis.pyï¼‰

# 2. æŸ¥çœ‹æ”¹äº†ä»€éº¼
git status
git diff

# 3. ä¿å­˜ä¿®æ”¹
git add code/lda_analysis/lda_analysis.py
git commit -m "å„ªåŒ– LDA æ¨¡å‹è¨“ç·´é€Ÿåº¦"

# 4. ç¢ºèªå·²ä¿å­˜
git log --oneline -1
```

---

### æƒ…å¢ƒ 2: æ–°å¢æª”æ¡ˆ

```bash
# 1. å‰µå»ºæ–°æª”æ¡ˆï¼ˆä¾‹å¦‚ new_analysis.pyï¼‰

# 2. åŠ å…¥ Git è¿½è¹¤
git add new_analysis.py
git commit -m "æ–°å¢ç¾åœ‹è³‡æ–™åˆ†æè…³æœ¬"
```

---

### æƒ…å¢ƒ 3: æŸ¥çœ‹æŸå€‹èˆŠç‰ˆæœ¬

```bash
# 1. æŸ¥çœ‹æ­·å²
git log --oneline

# 2. çœ‹æŸå€‹èˆŠç‰ˆæœ¬çš„æª”æ¡ˆå…§å®¹ï¼ˆä¸æœƒæ”¹è®Šç•¶å‰æª”æ¡ˆï¼‰
git show 5b4dd3d:code/lda_analysis/lda_analysis.py

# 3. æ¯”è¼ƒç•¶å‰ç‰ˆæœ¬å’ŒèˆŠç‰ˆæœ¬çš„å·®ç•°
git diff 5b4dd3d HEAD code/lda_analysis/lda_analysis.py
```

---

### æƒ…å¢ƒ 4: å›åˆ°æŸå€‹èˆŠç‰ˆæœ¬ï¼ˆè¬¹æ…ä½¿ç”¨ï¼ï¼‰

å¦‚æœæ–°ç‰ˆæœ¬æœ‰å•é¡Œï¼Œæƒ³å›åˆ°èˆŠç‰ˆæœ¬ï¼š

```bash
# 1. å…ˆæŸ¥çœ‹æ­·å²
git log --oneline

# 2. å‰µå»ºæ–°åˆ†æ”¯ï¼Œå›åˆ°èˆŠç‰ˆæœ¬ï¼ˆå®‰å…¨æ–¹å¼ï¼‰
git checkout -b old-version 5b4dd3d

# 3. å¦‚æœç¢ºå®šè¦ç”¨èˆŠç‰ˆæœ¬ï¼Œè¤‡è£½éœ€è¦çš„æª”æ¡ˆ
# ç„¶å¾Œå›åˆ° main åˆ†æ”¯
git checkout main
```

âš ï¸ **æ³¨æ„**: ä¸è¦ç”¨ `git reset --hard`ï¼Œé™¤éæ‚¨å¾ˆç¢ºå®šï¼

---

## å¸¸è¦‹å•é¡Œ FAQ

### Q1: æˆ‘æ”¹äº†å¾ˆå¤šæª”æ¡ˆï¼Œè¦ä¸€å€‹ä¸€å€‹ add å—ï¼Ÿ

**A**: ä¸ç”¨ï¼å¯ä»¥ä¸€æ¬¡å…¨éƒ¨åŠ å…¥ï¼š
```bash
git add .              # åŠ å…¥æ‰€æœ‰ä¿®æ”¹
git commit -m "å®Œæˆå°ç¾æ¯”è¼ƒåˆ†æ"
```

---

### Q2: æˆ‘ä¸å°å¿ƒ commit äº†ï¼Œå¯ä»¥æ’¤éŠ·å—ï¼Ÿ

**A**: å¯ä»¥ï¼
```bash
# æ’¤éŠ·æœ€å¾Œä¸€æ¬¡ commitï¼ˆä½†ä¿ç•™ä¿®æ”¹ï¼‰
git reset --soft HEAD~1

# ç„¶å¾Œå¯ä»¥é‡æ–° commit
git commit -m "æ›´æ­£ç¢ºçš„èªªæ˜"
```

---

### Q3: å¦‚ä½•çŸ¥é“æŸå€‹æª”æ¡ˆåœ¨å“ªä¸€æ¬¡ commit è¢«ä¿®æ”¹ï¼Ÿ

**A**:
```bash
git log --follow code/lda_analysis/lda_analysis.py
```

---

### Q4: .gitignore è£¡çš„æª”æ¡ˆæœƒè¢«è¿½è¹¤å—ï¼Ÿ

**A**: ä¸æœƒï¼`.gitignore` è£¡åˆ—å‡ºçš„æª”æ¡ˆï¼ˆå¦‚ `data/raw/*.csv`ï¼‰æœƒè¢« Git å¿½ç•¥ï¼Œä¸æœƒè¢« commitã€‚

---

### Q5: æˆ‘æƒ³çœ‹æŸæ¬¡ commit æ”¹äº†ä»€éº¼ï¼Ÿ

**A**:
```bash
git show 5b4dd3d
```

---

## å“ªäº›æª”æ¡ˆè¢« Git è¿½è¹¤ï¼Ÿå“ªäº›è¢«å¿½ç•¥ï¼Ÿ

### âœ… è¢«è¿½è¹¤ï¼ˆæœƒé€² Gitï¼‰
- æ‰€æœ‰ `.py` ç¨‹å¼ç¢¼
- æ‰€æœ‰ `.md` æ–‡æª”
- `CLAUDE.md`, `README.md` ç­‰è¨­å®šæª”
- `requirements.txt`
- `manuscripts/` è«–æ–‡
- `code/` ç¨‹å¼ç¢¼
- `Literature_Review/` æ–‡ç»æœå°‹çµæœï¼ˆCSV/JSONï¼‰

### âŒ è¢«å¿½ç•¥ï¼ˆä¸é€² Gitï¼‰
- `data/raw/**/*.csv` - åŸå§‹è³‡æ–™ï¼ˆå¤ªå¤§ï¼‰
- `data/processed/**/*.csv` - è™•ç†å¾Œçš„è³‡æ–™
- `results/**/*.pkl` - LDA æ¨¡å‹æª”æ¡ˆï¼ˆå¤ªå¤§ï¼‰
- `results/**/*.png` - åœ–è¡¨ï¼ˆå¯é‡æ–°ç”Ÿæˆï¼‰
- `__pycache__/` - Python cache
- `.ipynb_checkpoints/` - Jupyter checkpoints
- `node_modules/` - Node.js å¥—ä»¶
- `*.log` - Log æª”æ¡ˆ

è©³ç´°æ¸…å–®è«‹çœ‹ `.gitignore` æª”æ¡ˆã€‚

---

## èˆ‡ Claude Code ä¸€èµ·ä½¿ç”¨

### ç•¶ Claude å¹«æ‚¨å¯«ç¨‹å¼æ™‚

**ä»¥å‰çš„å•é¡Œ**:
```
"Claudeï¼Œå¹«æˆ‘å„ªåŒ–é€™å€‹ç¨‹å¼"
â†’ Claude å‰µå»º lda_analysis_optimized.py
â†’ å†æ”¹ä¸€æ¬¡ â†’ lda_analysis_optimized_v2.py
â†’ æ··äº‚ï¼
```

**ç¾åœ¨çš„æµç¨‹**:
```
1. Claude ç›´æ¥ä¿®æ”¹ lda_analysis.py
2. æ‚¨æª¢æŸ¥ä¿®æ”¹: git diff
3. å¦‚æœæ»¿æ„: git commit -m "å„ªåŒ– LDA æ¨¡å‹"
4. å¦‚æœä¸æ»¿æ„: git checkout lda_analysis.py ï¼ˆæ¢å¾©èˆŠç‰ˆï¼‰
5. æ°¸é åªæœ‰ä¸€å€‹æª”æ¡ˆï¼
```

---

## å»ºè­°çš„å·¥ä½œæµç¨‹

### æ¯å¤©é–‹å§‹å·¥ä½œå‰
```bash
git status  # çœ‹çœ‹æ˜¨å¤©æœ‰æ²’æœ‰æœªä¿å­˜çš„ä¿®æ”¹
```

### åšäº†ä¸€å€‹å®Œæ•´çš„æ”¹å‹•å¾Œï¼ˆä¾‹å¦‚ä¿®å¥½ä¸€å€‹ bugï¼‰
```bash
git add .
git commit -m "ä¿®æ­£ XXX å•é¡Œ"
```

### å®Œæˆä¸€å€‹å¤§åŠŸèƒ½å¾Œï¼ˆä¾‹å¦‚å¯«å®Œ Chapter 2ï¼‰
```bash
git add .
git commit -m "å®Œæˆ Chapter 2 æ–‡ç»å›é¡§"
git log --oneline -5  # æ¬£è³ä¸€ä¸‹æ‚¨çš„é€²åº¦ ğŸ˜Š
```

---

## é€²éšæŠ€å·§ï¼ˆé¸ç”¨ï¼‰

### æŸ¥çœ‹èª°æ”¹äº†æŸè¡Œç¨‹å¼ç¢¼
```bash
git blame code/lda_analysis/lda_analysis.py
```

### æœå°‹æ­·å² commit
```bash
git log --grep="LDA"  # æ‰¾æ‰€æœ‰æåˆ° LDA çš„ commit
```

### æŸ¥çœ‹æª”æ¡ˆåœ¨æŸå€‹æ™‚é–“é»çš„æ¨£å­
```bash
git show HEAD@{2.days.ago}:code/lda_analysis/lda_analysis.py
```

---

## éœ€è¦å¹«åŠ©æ™‚

### Claude å¯ä»¥å¹«æ‚¨
- "å¹«æˆ‘çœ‹ git status çš„çµæœ"
- "å¹«æˆ‘ commit ç›®å‰çš„ä¿®æ”¹"
- "é€™æ¬¡ commit æ‡‰è©²å¯«ä»€éº¼è¨Šæ¯ï¼Ÿ"
- "å¹«æˆ‘æ¯”è¼ƒç›®å‰ç‰ˆæœ¬å’Œä¸Šæ¬¡ commit çš„å·®ç•°"

### Git å®˜æ–¹æ–‡ä»¶
- ç·šä¸Šæ•™å­¸: https://git-scm.com/book/zh-tw/v2
- ç°¡æ˜“æŒ‡å—: https://rogerdudler.github.io/git-guide/index.zh.html

---

## é‡è¦æé†’

1. **ç¶“å¸¸ commit**: ä¸è¦ç­‰åˆ°æ”¹äº†å¾ˆå¤šæ‰ commitï¼Œæ¯å€‹å°åŠŸèƒ½å®Œæˆå°± commit
2. **å¯«æ¸…æ¥šçš„è¨Šæ¯**: æœªä¾†çš„æ‚¨æœƒæ„Ÿè¬ç¾åœ¨çš„æ‚¨
3. **ä¸ç”¨æ“”å¿ƒçŠ¯éŒ¯**: Git å¯ä»¥å›æº¯ï¼Œå¾ˆé›£çœŸçš„å¼„å£æ±è¥¿
4. **é¤Šæˆç¿’æ…£**: æ¯æ¬¡æ”¹ç¨‹å¼å‰å…ˆ `git status`ï¼Œæ”¹å®Œå¾Œ `git commit`

---

## æ‚¨çš„å°ˆæ¡ˆç‹€æ…‹

- **Git Repository**: âœ… å·²åˆå§‹åŒ–
- **ç¬¬ä¸€æ¬¡ Commit**: âœ… å·²å®Œæˆ (5b4dd3d)
- **æª”æ¡ˆç¸½æ•¸**: 340 å€‹æª”æ¡ˆå·²ç´å…¥ç‰ˆæœ¬æ§åˆ¶
- **.gitignore**: âœ… å·²è¨­ç½®ï¼ˆè³‡æ–™æª”æ¡ˆã€çµæœæª”æ¡ˆã€cache ç­‰å·²æ’é™¤ï¼‰

---

## ä¸‹æ¬¡æ”¹ç¨‹å¼æ™‚çš„æµç¨‹

```bash
# 1. é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd "/Users/simon/Library/CloudStorage/Dropbox/paper/Working paper/Hospitals/LDA_hospital"

# 2. æŸ¥çœ‹ç‹€æ…‹
git status

# 3. ä¿®æ”¹æª”æ¡ˆï¼ˆç”¨ç·¨è¼¯å™¨æˆ–è«‹ Claude å¹«å¿™ï¼‰

# 4. æŸ¥çœ‹æ”¹äº†ä»€éº¼
git diff

# 5. ä¿å­˜ä¿®æ”¹
git add .
git commit -m "æè¿°æ‚¨åšäº†ä»€éº¼"

# 6. ç¢ºèªä¿å­˜æˆåŠŸ
git log --oneline -1
```

---

**ğŸ‰ æ­å–œï¼å¾ä»Šå¤©èµ·ï¼Œç‰ˆæœ¬æ··äº‚çš„å•é¡Œè§£æ±ºäº†ï¼**

è¨˜ä½ï¼š**ä¸€å€‹æª”æ¡ˆ + Git = ç„¡é™ç‰ˆæœ¬æ­·å²**

æœ‰ä»»ä½•å•é¡Œéš¨æ™‚å• Claudeï¼
