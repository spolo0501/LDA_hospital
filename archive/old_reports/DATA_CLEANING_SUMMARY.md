# 📊 醫院評論資料清理總結報告

**生成日期**: 2025-10-28
**專案**: 美國頂級醫院 Google Maps 評論分析
**最終樣本數**: 2,932 條

---

## 🎯 清理目標

1. ✅ 合併所有醫院評論資料
2. ✅ 清除空白評論
3. ✅ 篩選最近一年的評論
4. ✅ 移除重複評論
5. ✅ 設定評論長度限制
6. ✅ 隨機抽樣（目標 4,000 條）

---

## 📈 清理流程與結果

### 步驟 1: 合併所有醫院評論
```
來源檔案數: 28 個
合併後總數: 25,132 條
```

**涵蓋醫院**:
- AdventHealth Orlando
- Brigham and Women's Hospital
- Cedars-Sinai Medical Center
- Cleveland Clinic
- Duke University Hospital
- 等共 28 家醫院

---

### 步驟 2: 清除空白評論
```
移除數量: 9,483 條 (37.7%)
剩餘數量: 15,649 條
```

**移除標準**:
- 評論內容為空（null）
- 評論內容只有空白字元

---

### 步驟 3: 篩選最近一年的評論
```
時間範圍: 2024-10-28 到 2025-10-28
移除數量: 12,286 條 (78.5%)
剩餘數量: 3,363 條
```

**實際日期範圍**:
- 最早評論: 2024-11-13
- 最新評論: 2025-10-28
- 跨度: 約 350 天

---

### 步驟 4: 移除重複評論
```
移除數量: 431 條 (12.8%)
  - 重複ID: 51 條
  - 重複內容: 380 條
剩餘數量: 2,932 條
```

**去重策略**:
1. 使用評論ID去重（同一評論被多次抓取）
2. 使用評論內容+作者+評分組合去重（不同ID但相同內容）

---

### 步驟 5: 評論長度限制
```
最少字元數: 20
移除數量: 0 條
剩餘數量: 2,932 條
```

**長度統計**:
- 最短: 21 字元
- 最長: 4,093 字元
- 平均: 427.1 字元
- 中位數: 243 字元

---

### 步驟 6: 隨機抽樣
```
目標數量: 4,000 條
實際數量: 2,932 條
結果: 保留所有資料（未達目標數量）
```

**說明**: 經過前 5 步清理後，剩餘資料量（2,932 條）已低於目標抽樣數（4,000 條），因此保留所有資料。

---

## 📊 最終樣本特徵

### 資料保留率
```
原始資料: 25,132 條
最終樣本: 2,932 條
保留率: 11.7%
```

### 評分分布
| 評分 | 數量 | 百分比 |
|------|------|--------|
| ⭐ 1星 | 1,024 條 | 34.9% |
| ⭐⭐ 2星 | 143 條 | 4.9% |
| ⭐⭐⭐ 3星 | 115 條 | 3.9% |
| ⭐⭐⭐⭐ 4星 | 136 條 | 4.6% |
| ⭐⭐⭐⭐⭐ 5星 | 1,514 條 | 51.6% |

**觀察**:
- 極化分布：1星（34.9%）和 5星（51.6%）佔大多數
- 中間評分較少（2-4星僅佔 13.4%）
- 這是 Google Maps 評論的典型特徵

### 醫院分布（Top 10）
| 醫院名稱 | 評論數 | 百分比 |
|----------|--------|--------|
| AdventHealth Orlando | 980 | 33.4% |
| Hackensack University Medical Center | 203 | 6.9% |
| Cleveland Clinic OH | 196 | 6.7% |
| Houston Methodist Hospital | 177 | 6.0% |
| Cedars-Sinai Medical Center | 143 | 4.9% |
| Northwestern Memorial Hospital | 107 | 3.6% |
| University of Michigan Health | 96 | 3.3% |
| Mount Sinai Hospital | 95 | 3.2% |
| Duke University Hospital | 87 | 3.0% |
| Mayo Clinic Arizona | 87 | 3.0% |

**觀察**:
- AdventHealth Orlando 佔比最高（33.4%）
- 這可能是因為該醫院的原始資料量最大（2,000 條）
- 其他醫院分布較為均勻（3-7%）

### 時間分布
```
起始日期: 2024-11-13
結束日期: 2025-10-28
時間跨度: 約 350 天（接近一年）
```

### 評論品質
```
最短評論: 21 字元
最長評論: 4,093 字元
平均長度: 427.1 字元
中位數長度: 243 字元
```

**品質指標**:
- ✅ 所有評論都有實質內容（>20 字元）
- ✅ 平均長度充足（427 字元），適合深度分析
- ✅ 長度分布合理，有詳細評論也有簡短評論

---

## 📁 輸出檔案

### 主要檔案
```
cleaned_data/final_cleaned_sample.csv (1.6 MB)
└─ 最終清理樣本，可直接用於分析
```

### 中間步驟檔案
```
cleaned_data/
├── step1_merged_raw.csv (8.9 MB)
│   └─ 合併後的原始資料
├── step2_removed_blank.csv (7.8 MB)
│   └─ 移除空白後
├── step3_recent_year.csv (1.8 MB)
│   └─ 篩選最近一年後
├── step4_deduplicated.csv (1.6 MB)
│   └─ 去重後
└── step5_length_filtered.csv (1.6 MB)
    └─ 長度篩選後
```

### 報告檔案
```
cleaned_data/cleaning_report.txt
└─ 詳細清理報告（文字格式）
```

---

## 💡 資料品質評估

### 優勢
✅ **時效性佳**: 所有評論都在最近一年內
✅ **內容充實**: 平均長度 427 字元，適合質性分析
✅ **無重複**: 已去除重複評論，確保資料獨立性
✅ **評分完整**: 涵蓋 1-5 星全部評分
✅ **醫院多樣**: 涵蓋 28 家美國頂級醫院

### 限制
⚠️ **樣本不均**: AdventHealth Orlando 佔比 33.4%，可能影響整體分析
⚠️ **評分極化**: 1星和5星佔 86.5%，中間評分較少
⚠️ **樣本量**: 2,932 條低於原目標 4,000 條

### 建議
💡 **分層分析**: 考慮按醫院分層進行獨立分析
💡 **評分分組**: 可將評分分為正面（4-5星）、中性（3星）、負面（1-2星）
💡 **加權處理**: 如需整體分析，考慮對醫院進行加權以平衡分布

---

## 🚀 下一步分析建議

### 1. 探索性資料分析（EDA）
- 評論長度與評分的關係
- 不同醫院的評分分布差異
- 時間趨勢分析（按月份）

### 2. 文本分析
- 詞頻分析（正面 vs 負面評論）
- 主題建模（LDA）
- 情感分析

### 3. 服務品質分析
- Aspect-Based Sentiment Analysis (ABSA)
- 識別關鍵服務維度（醫護人員、設施、等待時間等）
- 醫院間比較

### 4. 統計分析
- 醫院評分差異檢定
- 評論特徵與評分的相關性
- 預測模型（評分預測）

---

## 📞 腳本使用

### 重新運行清理
```bash
# 確保環境正確
./fix_ide_env.sh

# 運行清理腳本
python3 clean_and_merge_hospitals.py
```

### 調整參數
編輯 `clean_and_merge_hospitals.py` 中的設定：
```python
TARGET_SAMPLE_SIZE = 4000  # 目標樣本數
MIN_TEXT_LENGTH = 20       # 最少字元數
DAYS_BACK = 365            # 最近天數
```

---

## 📚 相關檔案

- `clean_and_merge_hospitals.py` - 資料清理主腳本
- `cleaned_data/final_cleaned_sample.csv` - 最終清理樣本
- `cleaned_data/cleaning_report.txt` - 詳細清理報告
- `DATA_CLEANING_SUMMARY.md` - 本文檔

---

**資料清理完成日期**: 2025-10-28
**執行時間**: < 2 分鐘
**資料品質**: ✅ 優良
**可用於分析**: ✅ 是
